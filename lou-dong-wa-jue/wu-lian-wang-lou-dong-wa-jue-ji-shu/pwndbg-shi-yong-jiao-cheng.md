---
description: 熟悉常用的调试命令
---

# pwndbg调试工具使用教程

### **C++ 进程内存空间分布** <a id="C-&#x8FDB;&#x7A0B;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x5206;&#x5E03;"></a>

内存可以分为以下几段：

> * **文本段**：包含实际要执行的代码（机器指令）和常量。它通常是共享的，多个实例之间共享文本段。文本段是不可修改的。
> * **初始化数据段**：包含程序已经初始化的全局变量，.data。
> * **未初始化数据段**：包含程序未初始化的全局变量，.bbs。该段中的变量在执行之前初始化为0或NULL。
> * **栈**：由系统管理，由高地址向低地址扩展。
> * **堆**：动态内存，由用户管理。通过malloc/alloc/realloc、new/new\[\]申请空间，通过free、delete/delete\[\]释放所申请的空间。由低地址想高地址扩展。

![process\_mem\_lay](https://dongwenhu.github.io//img/process_mem_lay.png)

### 内存布局

![](../../.gitbook/assets/image%20%28106%29.png)

进程地址空间从低地址开始依次是代码段\(Text\)、数据段\(Data\)、BSS段、堆、内存映射段\(mmap\)、栈。

![](../../.gitbook/assets/image%20%28107%29.png)

 **\[ 注意：BSS段 和 data段的区别是 ，如果一个全局变量没有被初始化（或被初始化为0），那么他就存放在bss段；如果一个全局变量被初始化为非0，那么他就被存放在data段。\]**

在进程被载入内存中时，基本上被分裂成许多小的节（section）。我们比较关注的是6个主要的节： 

（1） .text 节 

（2）.data 节 

（3）.bss 节 

（4） 堆节 

（5） 栈节 

（6）环境/参数节 环境/参数节（environment/arguments section）用来存储系统环境变量的一份复制文件， 进程在运行时可能需要。

例如，运行中的进程，可以通过环境变量来访问路径、shell 名称、主机名等信息。 该节是可写的，因此在格式串（format string）和缓冲区溢出（buffer overflow）攻击中都可以使用该节。 另外，命令行参数也保持在该区域中。

pwndbg调试命令





